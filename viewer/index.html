<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Acuity Model Viewer Online v0.1.0 beta</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="css/tipsy.css" rel="stylesheet" type="text/css"/>
    <link href="css/render.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div class="container">
    <div id="user-interface">
    <h1>Acuity Model Viewer</h1>
        <hr>
            <div class="input-group-btn">
            <input type="button" class="btn btn-default" value="Render" id="btn-render"/>
            <input type="button" class="btn btn-default" value="Capature" id="btn-save" style="display:none;"/>
        </div>
        <div name="content" id="editor" placeholder="acuity net content" style="width:800px;height:600px;border:1px solid grey"></textarea>
        </div>
    </div>
    <hr style="margin-top: 30px;">
    <div id="render"  style="text-align: center; margin-top: 60px; position: relative;" data-uk-dropdown="{mode:'click'}">
        <h1 id="net-name" class="net-name"></h1>
        <svg id="render-zone" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <style id='render-style'>
        .label {
            font-size: 140%;
            font-weight: 100;
            }
        .node rect {
          stroke: #333;
            fill: #fff;
            rx: 5px;
            ry: 5px;
            }
        .activation rect {
            fill: #ffbb48;
            }
        .fullconnect rect {
            fill: #7575f1;
            }
        .convolution rect {
            fill: #7575f1;
            }
        .deconvolution rect {
            fill: #7575f1;
            }
        .pooling rect {
            fill: #e42b2b;
            }
        .poolwithargmax rect {
            fill: #e42b2b;
            }
        .upsample rect {
            fill: #e42b2b;
            }
        .no-batch-op rect {
            fill: #58ce17;
            }

        .edgePath path {
          stroke: #333;
            fill: #333;
    stroke-width: 1.5px;
              }
        </style>
        </svg>
    </div>

    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="jquery.tipsy.js"></script>
    <script type="text/javascript" src="d3.v4.min.js"></script>
    <script type="text/javascript" src="dagre-d3.min.js"></script>
    <script type="text/javascript" src="d3.tip.js"></script>
    <script type="text/javascript" src="renderer.js"></script>
    <script type="text/javascript" src="online-json.js"></script>
    <script type="text/javascript" src="monaco-editor/min/vs/loader.js"></script>
    <script>
    require.config({ paths: { 'vs': 'monaco-editor/min/vs' }});
    require(['vs/editor/editor.main'], function() {
        var editor = monaco.editor.create(document.getElementById('editor'), {
            value: [
                ''
            ].join('\n'),
            language: 'json'
        });

        document.getElementById('btn-render').addEventListener('click',function(){
        //$('#user-interface').hide();
            render_net(JSON.parse(editor.getValue()));
        },false);
    });
    </script>
  </body>
</html>
